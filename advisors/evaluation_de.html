{{ block title }}
{{ endblock }}

{{ block content }}

    <div class="center">
    {% next_button %}
    </div>
{% endblock %}



{{ block title }}
{{ endblock }}

{{ block content }}

<div class="profile ">
    <div class="profilecontent">
        <div class="avatar">
        <img class="avatarimg" src="{% static picpath %}" />
       </div>
    <div class="name">
        <h3 style="text-align:center; vertical-align: middle; line-height:100px">{{ name }}</h5>
    </div>
    </div>
    </div>

    <br/>

    <hr>
<table id="info" style="font-size:1.1rem; table-layout: fixed; width:80%; margin-left:auto; margin-right:auto;">
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold">Geschlecht:</td>
        <td style = "width:20%;text-align:center"> {{ gender }} </td>
    </tr>
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold">Alter:</td>
        <td style = "width:20%;text-align:center"> {{ age }} Jahre </td>
    </tr>
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold"> Nationalität: </td>
        <td style = "width:20%;text-align:center"> {{ nationality }}</td>
    </tr>
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold"> Hochschulabschluss: </td>
        <td style = "width:20%;text-align:center"> {{ education_school }}</td>
    </tr>
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold"> Universitätsabschluss: </td>
        <td style = "width:20%;text-align:center"> {{ education_uni }}</td>
    </tr>
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold"> Beruf: </td>
        <td style = "width:20%;text-align:center"> {{ profession }}</td>
    </tr>
    <tr style="text-align:center" >
        <td style = "width:20%;text-align:center;font-weight:bold"> Religion: </td>
        <td style = "width:20%;text-align:center"> {{ religion }}</td>
    </tr>
    </table>
<hr>
<b>Kurzvorstellung:</b><br>
<i>  "{{ introduction }}"</i>
<hr>
<table style="width:100%">
    <tr style="width:100%; position: sticky; top: 0; border-bottom: none; border-bottom: none">
        <td ><b>Der Erhalt meiner Kapitalanlage ist mir wichtig. Ich stimme ... </b></td>
    </tr>
</table>
<table style="width:100%">
    <tr>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q1"  value="1" > 
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q1" value="2" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q1" value="3" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q1" value="4" >
        </td>
    </tr> 
    <tr style="position: sticky; top: 0; border-bottom: none; border-bottom: none">
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">gar nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">voll und ganz zu</td>
    </tr>
    </table>
<br>

<table style="width:100%">
    <tr style="width:100%; position: sticky; top: 0; border-bottom: none; border-bottom: none">
        <td ><b>Mir ist eine zuverlässige Rendite wichtiger als Risiken einzugehen, um meinen Ertrag zu erhöhen. Ich stimme ... </b></td>
    </tr>
</table>
<table style="width:100%">
    <tr>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q2"   value="1" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q2" value="2"  >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q2" value="3" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q2" value="4" >
        </td>
    </tr> 
    <tr style="position: sticky; top: 0; border-bottom: none; border-bottom: none">
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">gar nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">voll und ganz zu</td>
    </tr>
    </table>
<br>

<table style="width:100%">
    <tr style="width:100%; position: sticky; top: 0; border-bottom: none; border-bottom: none">
        <td ><b>Selbst kleinste Verluste machen mich bereits nervös. Ich stimme ... </b></td>
    </tr>
</table>
<table style="width:100%">
    <tr>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q3" value="1" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q3" value="2" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q3" value="3" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q3" value="4" > 
        </td>
    </tr> 
    <tr style="position: sticky; top: 0; border-bottom: none; border-bottom: none">
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">gar nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">voll und ganz zu</td>
    </tr>
    </table>
<br>

<table style="width:100%">
    <tr style="width:100%; position: sticky; top: 0; border-bottom: none; border-bottom: none">
        <td ><b>Finanzielle Risiken sind reizvoll: Nur wer viel wagt kann auch viel gewinnen. Ich stimme ... </b></td>
    </tr>
</table>
<table style="width:100%">
    <tr>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q4"   value="1" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q4" value="2" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q4" value="3" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q4" value="4" >
        </td>
    </tr> 
    <tr style="position: sticky; top: 0; border-bottom: none; border-bottom: none">
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">gar nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">voll und ganz zu</td>
    </tr>
    </table>
<br>

<table style="width:100%">
    <tr style="width:100%; position: sticky; top: 0; border-bottom: none; border-bottom: none">
        <td ><b>Ich nehme den Verlust meines Vermögens in Kauf wenn ich gleichzeitig die Chance habe, meine Gewinne zu erhöhen. Ich stimme ... </b></td>
    </tr>
</table>
<table style="width:100%">
    <tr>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q5"   value="1" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q5" value="2" >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q5" value="3"  >
        </td>
        <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom;">
            <input type="radio"  name="q5" value="4" >
        </td>
    </tr> 
    <tr style="position: sticky; top: 0; border-bottom: none; border-bottom: none">
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">gar nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher nicht zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">eher zu</td>
            <td style="width:25%; border-bottom: none;  text-align:center; vertical-align:bottom; ">voll und ganz zu</td>
    </tr>
    </table>
<hr>

<table id="info" style="font-size:1.1rem; table-layout: fixed; width:100%; margin-left:auto; margin-right:auto;background-color:rgb(218, 241, 218)">
    <tr style="text-align:center" >
        <td style = "width:80%;text-align:right;""><b>Welcher Risikogruppe gehört diese Person an?</b><br>
                                                                        <i style="font-size: smaller;">(Bitte geben Sie eine Zahl zwischen 1 (konservativ) und 5 (hochspekulativ) an.)</i></td>
        <td style = "width:20%;text-align:right;font-weight:bold"> <input name="riskgroup" class="rawfield" min="1" max="5" required/> </td>
        {% if form.riskgroup.errors %}
        {{ form.riskgroup.errors }}
        {% endif %}
        <td style = "width:10%;text-align:left;"> &nbsp; </td>
    </tr>


    <tr style="text-align:center" >
        <td style = "width:80%;text-align:right;"><b> Welchen Risikoanteil würden Sie dieser Person empfehlen?</b> <br>
            <i style="font-size: smaller;">(Bitte geben Sie eine Zahl zwischen 0 (keine Risikoanlagen) und 100 (nur Risikoanlagen) an.)</i></td>
        </td>
        <td style = "width:20%;text-align:right;font-weight:bold">   <input name="riskyshare" class="rawfield" min="0" max="100" required/> </td>
        {% if form.riskyshare.errors %}
        {{ form.riskyshare.errors }}
        {% endif %}
        <td style = "width:10%;text-align:left;"> % </td>
    </tr>

    </table>

    <hr>
<br>
    <div class="center">
    {% next_button %}
    </div>

    <br>
<div style="text-align:center;"> (Beratung {{ player.round_number }} von {{ C.NUM_ROUNDS }})</div>

<input type="hidden" name="offer" value="{{id}}" id="offer"/>


{% if form.q1.errors %}
{{ form.q1.errors }}
{% endif %}
{% if form.q2.errors %}
{{ form.q2.errors }}
{% endif %}
{% if form.q3.errors %}
{{ form.q3.errors }}
{% endif %}
{% if form.q4.errors %}
{{ form.q4.errors }}
{% endif %}
{% if form.q5.errors %}
{{ form.q5.errors }}
{% endif %}
{% endblock %}


{% block styles %}
<style>

.rawfield{
    width: 50%;
    padding: .375rem .75rem;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #212529;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #ced4da;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border-radius: .25rem;
    transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out
}

.center {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 50px;
}


.pictures{
  max-width:100%;
  heigth:auto;
}

.vertical-line{
    height: 50%;
}

.profilecontent{
    height: 100%;
    width: 100%;
    overflow: hidden;
}

.profilecontent .avatar{
    height: 100%;
    width: 50%;
    float: left;
    padding-left: 10%;
}

.profilecontent .name{
    height: 100%;
    width: 50%;
    float:right;
    padding-right: 30%;    
}

.avatar .avatarimg{
    position: relative;
    width: 35%;
    height: 100%;
    border-radius: 50%;
    float:left;
    overflow: hidden;
}

.avatar .name{
    position: relative;
    width: 50%;
    height: 100%;
    float: left;
    }

.avatarimginfo{
    position: relative;
    width: 10%;
    height: 100%;
    border-radius: 50%;
    float:left;
    overflow: hidden;
}

.display{
    visibility: visible;
}

.questionnaire{
    border-collapse: collapse;
    width: 100%;
    font-size:1.1rem;
    table-layout: fixed;
    margin-left:auto;
    margin-right:auto;
   }

th, td {
  padding: 8px;
  text-align: left;
}

.tdradio {
    width: 25%;
    border-right: 1px solid #ddd;
    text-align:center;
    cursor: pointer;
    }

.tdquestion {
    width:100%;
    border-right:1px solid #ddd;
    }
</style>
{% endblock %}


{% block scripts %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
      var inputField = document.querySelector('input[name="riskgroup"]');
      
      inputField.addEventListener("input", function() {
        var value = parseInt(inputField.value);
        var min = parseInt(inputField.getAttribute("min"));
        var max = parseInt(inputField.getAttribute("max"));
        
        if (isNaN(value) || value < min || value > max) {
          inputField.setCustomValidity("Bitte geben Sie einen Wert zwischen " + min + " und " + max + " ein.");
        } else {
          inputField.setCustomValidity("");
        }
      });
    });

    document.addEventListener("DOMContentLoaded", function() {
      var inputField = document.querySelector('input[name="riskyshare"]');
      
      inputField.addEventListener("input", function() {
        var value = parseInt(inputField.value);
        var min = parseInt(inputField.getAttribute("min"));
        var max = parseInt(inputField.getAttribute("max"));
        
        if (isNaN(value) || value < min || value > max) {
          inputField.setCustomValidity("Bitte geben Sie einen Wert zwischen " + min + " und " + max + " ein.");
        } else {
          inputField.setCustomValidity("");
        }
      });

      var q1value = js_vars.q1; // Example value of q1
      var q2value = js_vars.q2; // Example value of q2
      var q3value = js_vars.q3; // Example value of q3
      var q4value = js_vars.q4; // Example value of q4
      var q5value = js_vars.q5; // Example value of q5
      // Set checked attribute for the radio button with the value equal to q5Value
      var radio = document.querySelector('input[name="q1"][value="' + q1value + '"]');
      radio.checked = true;
      var radio = document.querySelector('input[name="q2"][value="' + q2value + '"]');
      radio.checked = true;      
      var radio = document.querySelector('input[name="q3"][value="' + q3value + '"]');
      radio.checked = true;      
      var radio = document.querySelector('input[name="q4"][value="' + q4value + '"]');
      radio.checked = true;      
      var radio = document.querySelector('input[name="q5"][value="' + q5value + '"]');
      radio.checked = true;

      // Set disabled attribute for the remaining radio buttons
      var radioButtons = document.querySelectorAll('input[name="q1"]');
      radioButtons.forEach(function(radioButton) {
        if (radioButton.value != q1value) {
          radioButton.disabled = true;
        }
      });
      var radioButtons = document.querySelectorAll('input[name="q2"]');
      radioButtons.forEach(function(radioButton) {
        if (radioButton.value != q2value) {
          radioButton.disabled = true;
        }
      });
      var radioButtons = document.querySelectorAll('input[name="q3"]');
      radioButtons.forEach(function(radioButton) {
        if (radioButton.value != q3value) {
          radioButton.disabled = true;
        }
      });
      var radioButtons = document.querySelectorAll('input[name="q4"]');
      radioButtons.forEach(function(radioButton) {
        if (radioButton.value != q4value) {
          radioButton.disabled = true;
        }
      });
      var radioButtons = document.querySelectorAll('input[name="q5"]');
      radioButtons.forEach(function(radioButton) {
        if (radioButton.value != q5value) {
          radioButton.disabled = true;
        }
      });
    });
  </script>
  {% endblock %}
